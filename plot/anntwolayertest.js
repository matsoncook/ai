function stackTests(){

    /*ann.backPropagate();
    assertTrue(ann.getLayer2().equals(new Matrix2d(l2)));
    assertTrue(ann.getL2_error().equals(new Matrix2d(l2_error)));
    assertTrue(ann.getL2_delta().equals(new Matrix2d(l2_delta)));
    assertTrue(ann.getSynapse1().equals(new Matrix2d(firstPassSyn1)));
    assertTrue(ann.getSynapse0().equals(new Matrix2d(firstPassSyn0)));
*/
var l2 = [[0.22649864,0.74985219,0.26865947,0.56008805,0.61435085,0.40763362,0.39914317,0.47110254,0.33499233]
    ,[0.28939532,0.77878809,0.26045524,0.53787259,0.68086423,0.47662143,0.40655672,0.46820828,0.418116]
    ,[0.45284075,0.69252208,0.14075343,0.45321996,0.5935947,0.57904855,0.25425057,0.37363573,0.73163738]
    ,[0.30279364,0.63235839,0.27136249,0.47215818,0.44810987,0.43189604,0.45170479,0.42860127,0.44357756]
    ,[0.26568763,0.73266146,0.21328617,0.47466084,0.60755638,0.44868708,0.34425094,0.48018501,0.45081027]
    ,[0.42528815,0.63453187,0.31074467,0.34864115,0.52572049,0.50500627,0.5854775,0.48007543,0.54664266]
    ,[0.36728077,0.55814134,0.2858914,0.40722651,0.42004098,0.50005301,0.47587868,0.41569837,0.54827719]
    ,[0.31840005,0.72005097,0.23206798,0.58044619,0.65683046,0.44216899,0.29899062,0.47018728,0.47932505]
    ,[0.36974172,0.67245753,0.21400768,0.58231056,0.54931636,0.52803681,0.3490264,0.32587072,0.57816492]
    ,[0.36712431,0.6034986,0.19793607,0.46712777,0.50909882,0.44224339,0.27896603,0.46483666,0.59051379]];
    
    var l2_error = [[-0.22649864,-0.74985219,-0.26865947,-0.56008805,-0.61435085,-0.40763362,-0.39914317,-0.47110254,0.66500767]
    ,[-0.28939532,-0.77878809,-0.26045524,-0.53787259,-0.68086423,0.52337857,-0.40655672,-0.46820828,-0.418116]
    ,[-0.45284075,-0.69252208,-0.14075343,-0.45321996,-0.5935947,-0.57904855,-0.25425057,0.62636427,-0.73163738]
    ,[-0.30279364,-0.63235839,-0.27136249,-0.47215818,-0.44810987,-0.43189604,-0.45170479,-0.42860127,0.55642244]
    ,[-0.26568763,-0.73266146,-0.21328617,-0.47466084,-0.60755638,-0.44868708,-0.34425094,-0.48018501,0.54918973]
    ,[-0.42528815,-0.63453187,-0.31074467,-0.34864115,-0.52572049,-0.50500627,0.4145225,-0.48007543,-0.54664266]
    ,[-0.36728077,-0.55814134,-0.2858914,-0.40722651,-0.42004098,-0.50005301,-0.47587868,-0.41569837,0.45172281]
    ,[-0.31840005,-0.72005097,-0.23206798,-0.58044619,-0.65683046,0.05783101,-0.29899062,0.02981272,-0.47932505]
    ,[-0.36974172,-0.67245753,-0.21400768,-0.58231056,-0.54931636,-0.02803681,-0.3490264,0.17412928,-0.57816492]
    ,[-0.36712431,-0.6034986,-0.19793607,-0.46712777,-0.50909882,-0.44224339,-0.27896603,-0.46483666,0.40948621]];
    var result = [[  1.11876964e-03,   1.40149204e-03,   4.13358755e-05,   1.46948137e-03,
        3.60314171e-04,   6.54491691e-03,   2.10739785e-05,   7.62434169e-03, 9.48193645e-01]];
    
    var initSyn0 =[[-0.16595599,0.44064899,-0.99977125,-0.39533485,-0.70648822,-0.81532281,-0.62747958,-0.30887855,-0.20646505]
    ,[0.07763347,-0.16161097,0.370439,-0.5910955,0.75623487,-0.94522481,0.34093502,-0.1653904,0.11737966]
    ,[-0.71922612,-0.60379702,0.60148914,0.93652315,-0.37315164,0.38464523,0.7527783,0.78921333,-0.82991158]
    ,[-0.92189043,-0.66033916,0.75628501,-0.80330633,-0.15778475,0.91577906,0.06633057,0.38375423,-0.36896874]
    ,[0.37300186,0.66925134,-0.96342345,0.50028863,0.97772218,0.49633131,-0.43911202,0.57855866,-0.79354799]
    ,[-0.10421295,0.81719101,-0.4127717,-0.42444932,-0.73994286,-0.96126608,0.35767107,-0.57674377,-0.46890668]
    ,[-0.01685368,-0.89327491,0.14823521,-0.70654285,0.17861107,0.39951672,-0.79533114,-0.17188802,0.38880032]
    ,[-0.17164146,-0.90009308,0.07179281,0.32758929,0.02977822,0.88918951,0.17311008,0.80680383,-0.72505059]
    ,[-0.72144731,0.61478258,-0.20464633,-0.66929161,0.85501716,-0.30446828,0.50162421,0.45199597,0.76661218]];
    var initSyn1 =[[0.24734441,0.50188487,-0.30220332,-0.46014422,0.79177244,-0.14381762,0.92968009,0.326883,0.24339144]
    ,[-0.77050805,0.89897852,-0.10017573,0.15677923,-0.18372639,-0.52594604,0.80675904,0.14735897,-0.99425935]
    ,[0.23428983,-0.3467102,0.0541162,0.7718842,-0.28546048,0.8170703,0.24672023,-0.96835751,0.85887447]
    ,[0.38179384,0.9946457,-0.65531898,-0.7257285,0.86519093,0.39363632,-0.86799965,0.51092611,0.50775238]
    ,[0.84604907,0.42304952,-0.75145808,-0.96023973,-0.94757803,-0.94338702,-0.50757786,0.7200559,0.07766213]
    ,[0.10564396,0.68406178,-0.75165337,-0.44163264,0.17151854,0.9391915,0.12206044,-0.96270542,0.60126535]
    ,[-0.53405145,0.61421039,-0.22427871,0.72708371,0.49424329,0.11248047,-0.72708955,-0.88016462,-0.75731309]
    ,[-0.91089624,-0.78501174,-0.54858132,0.42597796,0.11943396,-0.97488804,-0.85605144,0.93455266,0.13620092]
    ,[-0.59341353,-0.49534851,0.48765171,-0.60914104,0.16271785,0.94003998,0.6936576,-0.52030448,-0.01246057]];
    
    var firstPassSyn0 =[[-0.41901169,0.22577474,-0.94491444,-0.62996733,-0.39457292,-0.80557529,-0.78649607,-0.00756963,-0.08967958]
    ,[-0.14170464,-0.22877125,0.24053069,-0.81865091,1.08266943,-1.11624312,0.1824297,0.19822535,0.18374664]
    ,[-0.93026672,-0.74962399,0.57114624,0.71373912,-0.09383683,0.31086326,0.60297255,1.00699696,-0.76074379]
    ,[-1.01422409,-0.76585624,0.73782634,-0.83579948,-0.00748566,0.87686308,0.00294869,0.57736802,-0.35482251]
    ,[0.37300186,0.66925134,-0.96342345,0.50028863,0.97772218,0.49633131,-0.43911202,0.57855866,-0.79354799]
    ,[-0.26969554,0.74503258,-0.45947933,-0.54158281,-0.58502765,-0.99275922,0.30317779,-0.45481986,-0.39952494]
    ,[-0.12900452,-0.89948172,0.08279432,-0.86377754,0.36022169,0.2844525,-0.88994228,0.03911957,0.4258998,]
    ,[-0.31304479,-0.90914568,-0.06926915,0.16999097,0.24310214,0.73144273,0.06648157,1.00788375,-0.69397334]
    ,[-0.84848322,0.37746099,-0.11151582,-0.76941592,1.10624258,-0.27928809,0.35074997,0.70793895,0.79903188]];
    var firstPassSyn1 =[[5.92562894e-02,1.67911478e-01,-4.07372542e-01,-7.29429970e-01,4.77533814e-01,-2.93878100e-01,8.30171483e-01,2.07976872e-01,1.40785593e-01]
    ,[-1.04956794e+00,2.95103516e-01,-3.03286028e-01,-3.64677945e-01,-7.57680337e-01,-7.57063408e-01,4.90908570e-01,-2.25781502e-01,-8.75973762e-01]
    ,[-1.43400406e-01,-1.02020400e+00,-1.39740425e-01,2.15510166e-01,-9.04216789e-01,4.66513009e-01,-5.81216373e-02,-1.14200404e+00,7.80452862e-01]
    ,[1.62561945e-01,5.62011776e-01,-7.76833852e-01,-1.10364623e+00,4.36892403e-01,2.50453307e-01,-1.07056783e+00,3.72907008e-01,4.38772060e-01]
    ,[4.52615273e-01,-2.79174836e-01,-9.64262453e-01,-1.51883609e+00,-1.57554436e+00,-1.39761966e+00,-8.09981505e-01,4.43999451e-01,1.39214189e-01]
    ,[-1.57251373e-01,2.23863859e-01,-8.75751076e-01,-8.20771013e-01,-2.54295400e-01,6.82806448e-01,-8.66680139e-02,-1.05326406e+00,5.42689428e-01]
    ,[-9.59655766e-01,-2.25082875e-01,-4.71297610e-01,6.00250795e-04,-3.00836636e-01,-2.35301982e-01,-1.15611737e+00,-1.18831870e+00,-7.57104788e-01]
    ,[-1.37202874e+00,-1.66010538e+00,-8.02246932e-01,-3.10784846e-01,-6.97221466e-01,-1.41724783e+00,-1.28171522e+00,6.15138958e-01,1.73852816e-01]
    ,[-8.78460102e-01,-1.02555737e+00,3.10161537e-01,-1.02383296e+00,-3.08854059e-01,5.88923373e-01,4.69569077e-01,-8.25909914e-01,1.12468924e-01]];
    
    var initialX = [[1,0,1,0,0,1,0,0,1]
    ,[1,0,1,0,0,1,0,0,0]
    ,[0,1,1,0,0,0,1,1,0]
    ,[1,1,0,1,0,0,0,0,1]
    ,[1,0,1,0,0,0,0,0,1]
    ,[1,1,0,0,0,0,1,0,0]
    ,[1,1,0,1,0,0,1,0,1]
    ,[1,1,1,0,0,1,0,1,0]
    ,[0,1,0,1,0,1,0,1,0]
    ,[1,1,1,0,0,0,1,1,1]];
    
    var initialy =[[0,0,0,0,0,0,0,0,1]
    ,[0,0,0,0,0,1,0,0,0]
    ,[0,0,0,0,0,0,0,1,0]
    ,[0,0,0,0,0,0,0,0,1]
    ,[0,0,0,0,0,0,0,0,1]
    ,[0,0,0,0,0,0,1,0,0]
    ,[0,0,0,0,0,0,0,0,1]
    ,[0,0,0,0,0,0.5,0,0.5,0]
    ,[0,0,0,0,0,0.5,0,0.5,0]
    ,[0,0,0,0,0,0,0,0,1]];
    
    var l2_delta =[[-0.03968188,-0.14065269,-0.05278663,-0.13799977,-0.14555439,-0.09843066,-0.09572567,-0.11738223,0.1481454]
    ,[-0.05951289,-0.13416743,-0.05016845,-0.13369666,-0.14794372,0.13055859,-0.09808927,-0.11657885,-0.10172554]
    ,[-0.11220307,-0.14746236,-0.01702299,-0.11231318,-0.1431988,-0.14114385,-0.04820774,0.14658933,-0.1436527]
    ,[-0.06392266,-0.14701147,-0.05365512,-0.11767354,-0.11082089,-0.10597081,-0.11187263,-0.1049654,0.13733424]
    ,[-0.05183505,-0.14350541,-0.03578839,-0.11836044,-0.14486065,-0.11099037,-0.07771197,-0.11985771,0.1359686]
    ,[-0.10394814,-0.14714869,-0.06655605,-0.07917309,-0.13108234,-0.12623891,0.10060196,-0.11982827,-0.13547142]
    ,[-0.08535076,-0.13764858,-0.05836688,-0.09830166,-0.10232474,-0.12501325,-0.11869279,-0.10097032,0.11187788]
    ,[-0.06909964,-0.14514613,-0.0413574,-0.14135514,-0.14805235,0.01426434,-0.06266701,0.00742668,-0.11962637]
    ,[-0.08616194,-0.14811442,-0.03599789,-0.14163247,-0.1359931,-0.00698717,-0.07930123,0.03825255,-0.14100878]
    ,[-0.08529915,-0.14441,-0.03142381,-0.11627717,-0.12723256,-0.1090856,-0.05611234,-0.11563441,0.09901674]];
    
	var ann = new AnnTwoLayer();
    ann.getSynapse0().setMatrix(initSyn0);
    ann.getSynapse1().setMatrix(initSyn1);
    
    var layer0 = createMatrix2d().setMatrix(initialX);
    ann.setLayer0(layer0);
    ann.getTestAgainst().setMatrix(initialy);
    
    
    
    
    ann.feedForward();
    ann.backPropagate();
    
    /*
     assertTrue(ann.getL2_error().equals(new Matrix2d(l2_error)));
        assertTrue(ann.getL2_delta().equals(new Matrix2d(l2_delta)));
        assertTrue(ann.getSynapse1().equals(new Matrix2d(firstPassSyn1)));
        assertTrue(ann.getSynapse0().equals(new Matrix2d(firstPassSyn0)));
     */
    
    return "" + ann.getLayer2().checkSum() + " " + createMatrix2d().setMatrix(l2).checkSum()+"<br>"
    + ann.l2_error.checkSum() + " " + createMatrix2d().setMatrix(l2_error).checkSum()+"<br>"
    + ann.l2_delta.checkSum() + " " + createMatrix2d().setMatrix(l2_delta).checkSum()+"<br>"
    + "l1_error"+ann.l1_error.checkSum() + "<br>"
    + "l1_delta"+ann.l1_delta.checkSum() + "<br>"
    + "Synapse1 compare: "+ann.synapse1.checkSum() + " " + createMatrix2d().setMatrix(firstPassSyn1).checkSum()+"<br>"
    + "Synapse0 compare: "+ann.synapse0.checkSum() + " " + createMatrix2d().setMatrix(firstPassSyn0).checkSum()+"<br>"
    ;
}
